:root {
  --color-bg: #f1f5f9;
  --color-surface: #ffffff;
  --color-surface-alt: #f8fafc;
  --color-border: #e2e8f0;
  --color-border-strong: #cbd5e1;
  --color-text: #0f172a;
  --color-text-dim: #475569;
  --color-accent: #0ea5e9;
  --color-accent-hover: #0284c7;
  --color-danger: #dc2626;
  --color-danger-hover: #b91c1c;
  --radius-sm: 6px;
  --radius-md: 12px;
  --radius-full: 999px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 12px -2px rgba(0,0,0,0.08);
  --focus-ring: 0 0 0 3px rgba(14,165,233,0.35);
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;
  color-scheme: light dark;
}

@media (prefers-color-scheme: dark) {
  :root {
    --color-bg: #0f172a;
    --color-surface: #1e293b;
    --color-surface-alt: #162132;
    --color-border: #243044;
    --color-border-strong: #334155;
    --color-text: #f1f5f9;
    --color-text-dim: #94a3b8;
    --shadow-sm: 0 1px 2px rgba(0,0,0,0.5);
    --shadow-md: 0 4px 16px -2px rgba(0,0,0,0.55);
  }
}

html, body { margin:0; padding:0; background: var(--color-bg); color: var(--color-text); -webkit-font-smoothing: antialiased; }
body { min-height: 100dvh; }

.app-container { max-width: 780px; margin: 0 auto; padding: clamp(12px,2vw,24px); }

.topbar { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:20px; }
.topbar h2 { font-size:1.25rem; font-weight:600; display:flex; align-items:center; gap:.4rem; margin:0; }
.topbar-actions { display:flex; gap:10px; align-items:center; }
/* Topbar icon buttons reuse icon-btn base with slightly larger hit area */
.topbar .icon-btn { width:38px; height:38px; padding:0; border-radius: var(--radius-full); }
.topbar .icon-btn:hover { background: var(--color-surface-alt); }
.icon-btn.spin { animation: rotate 1s linear infinite; }
@keyframes rotate { to { transform: rotate(360deg); } }
/* Larger plus sign without enlarging button */
.plus-btn { position:relative; }
.plus-btn .plus-glyph { display:inline-block; transform: scale(1.4); margin:0 -2px; line-height:1; }

.btn { --bg: var(--color-accent); --bg-hover: var(--color-accent-hover); --txt:#fff; border:none; background:var(--bg); color:var(--txt); padding:.65rem 1.05rem; font-size:.9rem; font-weight:500; border-radius: var(--radius-full); cursor:pointer; display:inline-flex; gap:.4rem; align-items:center; line-height:1; box-shadow: var(--shadow-sm); transition: background .18s, box-shadow .18s, transform .15s; }
.btn:hover:not(:disabled) { background:var(--bg-hover); box-shadow: var(--shadow-md); }
.btn:active:not(:disabled) { transform: translateY(1px); }
.btn:focus-visible { outline:none; box-shadow: var(--focus-ring); }
.btn[disabled] { opacity:.55; cursor:not-allowed; }
.btn-secondary { --bg: var(--color-surface-alt); --bg-hover:#e2e8f0; --txt: var(--color-text); border:1px solid var(--color-border); }
.btn-danger { --bg: var(--color-danger); --bg-hover: var(--color-danger-hover); }

.card { background:var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-md); padding:20px; box-shadow: var(--shadow-sm); }
.card + .card { margin-top:16px; }

.tx-header { display:flex; justify-content:space-between; align-items:center; margin:0 0 12px; font-size:.95rem; font-weight:600; }
.tx-list { list-style:none; margin:0; padding:0; }
.tx-row { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px 0; border-top:1px solid var(--color-border); }
.tx-row:first-child { border-top:none; }
.tx-meta { font-size:.7rem; letter-spacing:.5px; text-transform:uppercase; color: var(--color-text-dim); }
.tx-amt { font-weight:600; }
.tx-empty { text-align:center; padding:32px 12px; color: var(--color-text-dim); font-size:.9rem; }

.grid2 { display:grid; gap:16px; grid-template-columns: 1fr 1fr; }
@media (max-width:640px) { .grid2 { grid-template-columns:1fr; } }

form label { display:flex; flex-direction:column; gap:4px; font-size:.8rem; font-weight:500; color: var(--color-text-dim); }
input, select { background:var(--color-surface-alt); border:1px solid var(--color-border); padding:.6rem .75rem; border-radius: var(--radius-sm); font:inherit; color:var(--color-text); }
input:focus, select:focus { outline:none; border-color: var(--color-accent); box-shadow: var(--focus-ring); }

.inline-actions { display:flex; gap:8px; align-items:center; }

/* Minimal icon button */
.icon-btn { background:transparent; border:1px solid var(--color-border); color: var(--color-text-dim); padding:.3rem .4rem; border-radius: var(--radius-sm); cursor:pointer; display:inline-flex; align-items:center; justify-content:center; line-height:0; transition: background .15s, color .15s, border-color .15s, transform .15s; }
/* Neutral hover for standard icon buttons (refresh/logout) */
.icon-btn:hover { background: var(--color-surface-alt); border-color: var(--color-border-strong); }
.icon-btn:active { transform: scale(.9); }
/* Destructive variant */
.icon-btn.danger { color: var(--color-text-dim); border-color: var(--color-border); }
.icon-btn.danger:hover { background: var(--color-surface-alt); color: var(--color-danger); border-color: var(--color-danger); }
.icon-btn:focus-visible { outline:none; box-shadow: var(--focus-ring); }
.icon-btn svg { width:16px; height:16px; pointer-events:none; }

.alert-error { background:#fee2e2; border:1px solid #fecaca; color:#991b1b; padding:.75rem 1rem; border-radius: var(--radius-md); font-size:.8rem; }
@media (prefers-color-scheme: dark) { .alert-error { background:#7f1d1d; border-color:#991b1b; color:#fecaca; } }

.fade-in { animation: fade .3s ease; }
@keyframes fade { from { opacity:0; transform: translateY(4px);} to { opacity:1; transform:translateY(0);} }

.modal-backdrop { position:fixed; inset:0; background:rgba(15,23,42,0.5); backdrop-filter: blur(2px); display:flex; align-items:center; justify-content:center; z-index:80; }
.modal { background:var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-md); padding:24px; width:min(92vw,420px); box-shadow: var(--shadow-md); }
.modal h3 { margin:0 0 12px; font-size:1.05rem; }
.modal-footer { margin-top:20px; display:flex; justify-content:flex-end; gap:10px; }

.badge { display:inline-block; background:var(--color-surface-alt); border:1px solid var(--color-border); padding:2px 8px; border-radius: var(--radius-full); font-size:.65rem; letter-spacing:.5px; text-transform:uppercase; color: var(--color-text-dim); }

footer.pwa-hint { margin-top:24px; font-size:.7rem; text-align:center; opacity:.65; }
